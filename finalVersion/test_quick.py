#!/usr/bin/env python3\n# -*- coding: utf-8 -*-\n\"\"\"\nå¿«é€Ÿæµ‹è¯•è„šæœ¬\n\"\"\"\nimport sys\nfrom pathlib import Path\n\n# æ·»åŠ è·¯å¾„\nproject_root = Path(__file__).parent\nsys.path.append(str(project_root))\nsys.path.append(str(project_root.parent))\n\ndef test_data_loading():\n    \"\"\"æµ‹è¯•æ•°æ®åŠ è½½\"\"\"\n    print(\"ğŸ“‚ æµ‹è¯•æ•°æ®åŠ è½½...\")\n    \n    try:\n        from src.utils.data_loader import DataLoader\n        \n        loader = DataLoader()\n        \n        # åˆ—å‡ºå¯ç”¨æ•°æ®é›†\n        datasets = loader.list_available_datasets()\n        print(f\"   å¯ç”¨æ•°æ®é›†: {datasets}\")\n        \n        # æµ‹è¯•åŠ è½½ brazil-airports\n        G, (X, Y) = loader.load_dataset('brazil-airports')\n        print(f\"   âœ… æ•°æ®åŠ è½½æˆåŠŸ: {G.number_of_nodes()} èŠ‚ç‚¹, {len(X)} æ ‡ç­¾\")\n        \n        return True\n        \n    except Exception as e:\n        print(f\"   âŒ æ•°æ®åŠ è½½å¤±è´¥: {e}\")\n        return False\n\ndef test_original_algorithm():\n    \"\"\"æµ‹è¯•åŸå§‹ç®—æ³•\"\"\"\n    print(\"\\nğŸ”§ æµ‹è¯•åŸå§‹ç®—æ³•...\")\n    \n    try:\n        from src.utils.data_loader import DataLoader\n        from src.algorithms.original_struc2vec import OriginalStruc2Vec\n        \n        # åŠ è½½æ•°æ®\n        loader = DataLoader()\n        G, (X, Y) = loader.load_dataset('brazil-airports')\n        \n        # åˆ›å»ºç®—æ³•ï¼ˆä½¿ç”¨è¾ƒå°å‚æ•°åŠ å¿«æµ‹è¯•ï¼‰\n        algorithm = OriginalStruc2Vec(\n            G, \n            walk_length=20, \n            num_walks=3, \n            embed_size=32, \n            workers=1, \n            iter=1\n        )\n        \n        # è®­ç»ƒ\n        algorithm.train()\n        embeddings = algorithm.get_embeddings()\n        \n        print(f\"   âœ… åŸå§‹ç®—æ³•æµ‹è¯•æˆåŠŸ: {len(embeddings)} ä¸ªåµŒå…¥\")\n        return True\n        \n    except Exception as e:\n        print(f\"   âŒ åŸå§‹ç®—æ³•æµ‹è¯•å¤±è´¥: {e}\")\n        return False\n\ndef test_evaluator():\n    \"\"\"æµ‹è¯•è¯„ä¼°å™¨\"\"\"\n    print(\"\\nğŸ“Š æµ‹è¯•è¯„ä¼°å™¨...\")\n    \n    try:\n        from src.utils.evaluator import Evaluator\n        \n        evaluator = Evaluator(classifiers=['logistic'])\n        print(f\"   âœ… è¯„ä¼°å™¨åˆ›å»ºæˆåŠŸ\")\n        return True\n        \n    except Exception as e:\n        print(f\"   âŒ è¯„ä¼°å™¨æµ‹è¯•å¤±è´¥: {e}\")\n        return False\n\ndef main():\n    \"\"\"ä¸»æµ‹è¯•å‡½æ•°\"\"\"\n    print(\"=\" * 60)\n    print(\"ğŸ§ª Final Version å¿«é€Ÿæµ‹è¯•\")\n    print(\"=\" * 60)\n    \n    tests = [\n        (\"æ•°æ®åŠ è½½\", test_data_loading),\n        (\"è¯„ä¼°å™¨\", test_evaluator),\n        (\"åŸå§‹ç®—æ³•\", test_original_algorithm)\n    ]\n    \n    passed = 0\n    total = len(tests)\n    \n    for name, test_func in tests:\n        try:\n            if test_func():\n                passed += 1\n        except Exception as e:\n            print(f\"   âŒ {name} æµ‹è¯•å¼‚å¸¸: {e}\")\n    \n    print(f\"\\n\" + \"=\" * 60)\n    print(f\"ğŸ“‹ æµ‹è¯•ç»“æœ: {passed}/{total} é€šè¿‡\")\n    \n    if passed == total:\n        print(\"âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡! é¡¹ç›®ç»“æ„æ­£å¸¸\")\n        print(\"\\nğŸš€ å¯ä»¥è¿è¡Œ: python scripts/run_comparison.py --dataset brazil-airports\")\n    else:\n        print(\"âŒ éƒ¨åˆ†æµ‹è¯•å¤±è´¥ï¼Œè¯·æ£€æŸ¥é¡¹ç›®é…ç½®\")\n    \n    return passed == total\n\nif __name__ == \"__main__\":\n    success = main()\n    exit(0 if success else 1)